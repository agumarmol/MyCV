/* style.css */

/* ===== 1. Variables Controladas por el Usuario ===== */
/* ===================================================
   VARIABLES GLOBALES
   Estructura:
   1. Variables Controladas por el Usuario (inputs/botones)
   2. Variables Fijas del Sistema
   3. Variables Derivadas Autom√°ticamenteborder
=================================================== */

/* ===== 1. Variables Controladas por el Usuario ===== */
:root {
  /* üé® Colores */
  --background-color: #ffffff;
  --main-background-color: #ffffff;
  --sidebar-background: #f0f0f0;
  --font-color: #000000;
  --sidebar-font-color: #000000;
  --accent-color: #030303;
  --accent-color-rgb: 0, 123, 255;

  /* üî§ Tipograf√≠a */
  --font-family: 'sans-serif';
  --font-size-base: 1rem;

  /* üìè Espaciados */
  --padding-horizontal: 1vw;
  --padding-vertical: 0vw;

  /* üñºÔ∏è Foto de perfil */
  --foto-size: 60%;
  --foto-radius: 50%;
  --foto-aspect: 1/1;

  /* üñåÔ∏è Hobbies */
  --hobby-size-slider: 1; /* Escala de los hobbies, ajustada por el usuario */
}

/* ===== 2. Variables Fijas del Sistema ===== */
:root {
  /* ‚è≥ Transiciones */
  --transition-time: 0.3s;
  --transition-all: all var(--transition-time) ease;

  /* üé® Sidebar */
  --section-title-bg-color: #a5a29d;

  /* üìè Bordes y tama√±os */
  --base-radius: 8px;
  --resizer-width: 10px;

  /* üì∏ Iconos y Fotos */
  --icon-sq-size: 25px;

  /* üéõÔ∏è Paneles */
  --panel-radius: var(--base-radius);
  --panel-padding: var(--padding-horizontal);

  /* üéØ Botones */
  --button-bg: var(--accent-color);
  --button-hover-bg: var(--accent-color-rgb);
  --button-bg-rgb: var(--accent-color-rgb);
  --ui-padding-btn: var(--padding-horizontal);
  --ui-margin-top-btn: var(--padding-vertical);

  --hobbies-card-background: var(--sidebar-background); /* Si sidebar-background cambia, hobbies tambien */
  --highlight-color: var(--sidebar-background);
  --items-color: lightgray;
}

/* ===== 3. Variables Derivadas Autom√°ticamente ===== */
:root {
  /* üî§ Tama√±os de fuente */
  --font-size-sm: 0.875em;    /* 14px */
  --font-size-item: 0.9375em; /* 15px */
  --font-size-md: 1.25em;     /* 20px */
  --font-size-lg: 1.5em;      /* 24px */
  --line-height: 1.6;

  /* üìè Gaps y espacios */
  --space-base: calc(0.5 * (var(--padding-horizontal) + var(--padding-vertical)))
  --space-2xs: calc(var(--space-base) * 0.25);
  --space-xs:  calc(var(--space-base) * 0.5);
  --space-sm:  calc(var(--space-base) * 0.75);
  --space-md:  calc(var(--space-base) * 1);
  --space-lg:  calc(var(--space-base) * 1.5);
  --space-xl:  calc(var(--space-base) * 2);
  --space-2xl: calc(var(--space-base) * 3);

  /* üß∏ Hobbies */
  --hobby-min-width: calc(var(--padding-horizontal) * 7.5);
  --hobby-max-width: calc(var(--padding-horizontal) * 25);
  --hobby-gap: var(--space-sm);
  --hobby-icon-base-size: var(--font-size-md);
  --hobby-icon-size: calc(var(--hobby-icon-base-size) * var(--hobby-size-slider));
  --hobby-font-size: calc(var(--font-size-base) * var(--hobby-size-slider));

  /* üìö Secciones */
  --section-title-color: #d4af37;
  --section-title-bg-rgba: rgba(0, 0, 0, 0.05);
  --section-title-hover-bg: rgba(0, 0, 0, 0.08);
  --section-title-border: #ccc;
  --section-title-icon: var(--section-title-color);

  /* ‚ú® Sombra de textos */
  --text-shadow-black: -0.5px -0.5px 0 black, 0.5px -0.5px 0 black, -0.5px 0.5px 0 black, 0.5px 0.5px 0 black;
  --text-shadow-white: -0.5px -0.5px 0 white, 0.5px -0.5px 0 white, -0.5px 0.5px 0 white, 0.5px 0.5px 0 white;
  --text-shadow-items: var(--text-shadow-black);
}



/* Animaci√≥n al aparecer */
@keyframes fadeSlideUp {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}


/* ====== Tema Claro ====== */
.body[data-theme="light"] {
  --main-background-color: #fff;        /* Fondo principal */
  --font-color: #000;                   /* Color de texto principal */
  --sidebar-background: #f0f0f0;        /* Fondo del sidebar */
  --section-title-bg-color: #ccc;               /* Borde del sidebar */
  --sidebar-font-color: #000;           /* Color de texto en sidebar */
  --hobbies-card-background: var(--sidebar-background);
  --button-bg: var(--accent-color);        /* Fondo de botones */
  --button-hover-bg: #0056b3;           /* Fondo de botones al pasar el cursor */
  --section-title-bg-rgba: rgba(0, 0, 0, 0.05); /* Fondo de t√≠tulos de secci√≥n */
  --section-title-hover-bg: rgba(0, 0, 0, 0.08); /* Fondo al pasar el cursor en t√≠tulos */
  --section-title-border: var(--section-title-border); /* Borde de t√≠tulos de secci√≥n */
  --text-shadow-name: var(--text-shadow-white); /* Sombra de texto para nombres */
  --text-shadow-section-title-icon: var(--text-shadow-black); /* Sombra de iconos de t√≠tulos */
  --text-shadow-items: var(--text-shadow-black); /* Sombra de √≠tems */
  --text-shadow-hobbies: var(--text-shadow-white); /* Sombra de hobbies */  
}

/* ====== Tema Oscuro ====== */
body[data-theme="dark"] {
  --main-background-color: #121212;    /* Fondo principal */
  --font-color: #f1f1f1;               /* Color de texto principal */
  --sidebar-background: #1e1e1e;       /* Fondo del sidebar */
  --section-title-bg-color: #444;              /* Borde del sidebar */
  --sidebar-font-color: #f1f1f1;       /* Color de texto en sidebar */
  --hobbies-card-background: var(--sidebar-background);
  --button-bg: var(--accent-color);        /* Fondo de botones */
  --button-hover-bg: #0069d9;          /* Fondo de botones al pasar el cursor */
  --section-title-bg-rgba: rgba(255, 255, 255, 0.06); /* Fondo de t√≠tulos de secci√≥n */
  --section-title-hover-bg: rgba(255, 255, 255, 0.1); /* Fondo al pasar el cursor en t√≠tulos */
  --section-title-border: var(--section-title-border); /* Borde de t√≠tulos de secci√≥n */
  --section-title-icon: var(--section-title-icon); /* Color del icono de t√≠tulo */
  --text-shadow-name: var(--text-shadow-black); /* Sombra de texto para nombres */
  --text-shadow-section-title-icon: var(--text-shadow-black); /* Sombra de iconos de t√≠tulos */
  --text-shadow-items: var(--text-shadow-black); /* Sombra de √≠tems */
  --text-shadow-hobbies: var(--text-shadow-black); /* Sombra de hobbies */
}

body[data-theme="dark"] .section {
  background-color: rgba(255, 255, 255, 0.03); /* Fondo de secci√≥n en modo oscuro */
  border-color: rgba(255, 255, 255, 0.1); /* Borde de secci√≥n en modo oscuro */
}

body[data-theme="dark"] .habilidad:hover,
body[data-theme="dark"] .idioma:hover,
body[data-theme="dark"] .hobby:hover,
body[data-theme="dark"] .contacto-item:hover {
  background-color: rgba(255, 255, 255, 0.15); /* Hover en elementos */
}

body[data-theme="dark"] .sidebar.resizable .resizer {
  background: linear-gradient(to right, transparent 40%, rgba(255,255,255,0.2) 50%, transparent 60%); /* Resizer en sidebar */
}

body[data-theme="dark"] .resizer:hover {
  background-color: rgba(255, 255, 255, 0.2); /* Hover en resizer */
}

/* ====== Tema Sepia ====== */
body[data-theme="sepia"] {
  --main-background-color: #f4ecd8;    /* Fondo principal */
  --font-color: #5b4636;                /* Color de texto principal */
  --sidebar-background: #e5d3b3;        /* Fondo del sidebar */
  --section-title-bg-color: #a5a29d;            /* Borde del sidebar */
  --sidebar-font-color: #5b4636;        /* Color de texto en sidebar */
  --hobbies-card-background: #f4ecd8;
  --button-bg: #b07f47;                 /* Fondo de botones */
  --button-hover-bg: #9a6d39;           /* Fondo de botones al pasar el cursor */
  --section-title-bg-rgba: rgba(255, 248, 220, 0.4); /* Fondo de t√≠tulos de secci√≥n */
  --section-title-hover-bg: rgba(160, 130, 100, 0.3); /* Fondo al pasar el cursor en t√≠tulos */
  --section-title-border: #a57f69;      /* Borde de t√≠tulos de secci√≥n */
  --section-title-icon: #b07f47;        /* Color de icono de t√≠tulo */
  --text-shadow-name: var(--text-shadow-white); /* Sombra de texto para nombres */
  --text-shadow-section-title-icon: var(--text-shadow-black); /* Sombra de iconos de t√≠tulos */
  --text-shadow-items: var(--text-shadow-black); /* Sombra de √≠tems */
  --text-shadow-hobbies: var(--text-shadow-white); /* Sombra de hobbies */
}

body[data-theme="sepia"] .item.filled {
  color: #b07f47;                       /* Color de √≠tems completados */
}

/* ====== Modo Agustin ====== */
body[data-theme="agustin"] {
  --main-background-color: #fff;        /* Fondo principal */
  --font-color: #000;                   /* Color de texto principal */
  --sidebar-background: #2b673d;        /* Fondo del sidebar */
  --section-title-bg-color: #e5d3b3;            /* Borde del sidebar */
  --sidebar-font-color: #ffffff;        /* Color de texto en sidebar */
  --hobbies-card-background: var(--sidebar-background);
  --button-bg: #998534;                 /* Fondo de botones */
  --button-hover-bg: #2b673d;           /* Fondo de botones al pasar el cursor */
  --section-background: #998534;        /* Fondo de secci√≥n */
  --section-title-bg-rgba: rgba(153, 133, 52, 0.2); /* Fondo de t√≠tulos de secci√≥n */
  --section-title-hover-bg: rgba(43, 103, 61, 0.2); /* Fondo al pasar el cursor en t√≠tulos */
  --section-title-border: var(--section-title-border); /* Borde de t√≠tulos de secci√≥n */
  --section-title-icon: #998534;        /* Color de icono de t√≠tulo */
  --text-shadow-name: var(--text-shadow-black); /* Sombra de texto para nombres */
  --text-shadow-section-title-icon: var(--text-shadow-black); /* Sombra de iconos de t√≠tulos */
  --text-shadow-items: var(--text-shadow-black); /* Sombra de √≠tems */
  --text-shadow-hobbies: var(--text-shadow-black); /* Sombra de hobbies */
}

.body[data-theme="agustin"] main .content h1,
.body[data-theme="agustin"] main .content h2,
.body[data-theme="agustin"] main .content h3 {
  color: #998534;
  background-color: rgba(153, 133, 52, 0.2);
  border-radius: var(--panel-radius);
  /* el padding aqu√≠ ya lo tom√≥ el reset global */
}

.body[data-theme="agustin"] .nombre-titulo h2 {
  background-color: #998534;
  color: white !important;
  border-radius: var(--panel-radius);
  /* padding tomado del reset global */
}

.body[data-theme="agustin"] .contacto-valor {
  color: var(--font-color);
}

/* ====== Tema Personalizado ====== */
.body[data-theme="custom"] {
  --text-shadow-name: var(--text-shadow-white);
  --text-shadow-section-title-icon: var(--text-shadow-black);
  --text-shadow-items: var(--text-shadow-black);
  --text-shadow-hobbies: var(--text-shadow-white);
  
}

.body[data-theme="custom"] .sidebar,
.body[data-theme="custom"] .sidebar * {
  color: var(--sidebar-font-color) !important;
}

.body[data-theme="custom"] .contacto-info, 
.body[data-theme="custom"] .habilidad-info, 
.body[data-theme="custom"] .idioma-info {
  text-shadow: none;
}


/* ====== Botones e interfaz ====== */

/* Selector de Idiomas */
.language-switcher {
  position: fixed;
  right: 25px;
  z-index: 9999;
  top: 10px;
  display: flex;
  gap: 10px; /* Se asegura que no se escale */
}

.language-button {
  color: var(--font-color);
  border: none;
  background: none;
  cursor: pointer;
  margin: 0 10px;
  transition: transform 0.2s;
}

.language-switcher button:focus {
  outline: 2px solid #ffcc00;
  outline-offset: 2px;
}

.language-switcher button.active {
  outline: 2px solid var(--font-color);
  border-radius: 5px;
  transform: scale(1.05);
  transition: all 0.2s ease;
}

.language-switcher button:hover {
  transform: scale(1.1);
}

.language-switcher img {
  width: 40px; /* Establecer un tama√±o fijo */
  height: 28px; /* Mantener proporcionalidad */
  border-radius: 50%;
  border: 1px solid var(--font-color, #121212);
}


/* ============================
   Bot√≥n ‚ÄúPersonalizar‚Äù (Valores casi todos Fijos o que dependen del tema)
   ============================ */
   .personalize-btn {
    position: fixed;
    top: 50px;
    right: 25px;
    padding: 10px 20px;
    background-color: var(--button-bg);
    color: #fff;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: transform 0.2s, background-color 0.3s;
    background-color: var(--button-bg);
    color: white;
  }
  .personalize-btn:hover {
    transform: scale(1.05);
    background-color: var(--button-hover-bg);
  }
  
/* ============================
    Panel de Personalizaci√≥n (base)
    ============================ */
  #personalization-panel {
    display: none; 
  }

  #personalization-panel.active {
    display: block;
  }


  .personalization {
    display: none;               /* oculto por defecto */
    position: fixed;
    top: 50px;
    right: 15px;
    width: 350px;
    padding: 8px;
    background: #fff;
    color: #222;
    border: 1px solid var(--section-title-bg-color, #ccc);
    border-radius: 8px;
    box-shadow: 0 0 8px rgba(0,0,0,0.2);
    font-size: 13px;
    z-index: 1000;
  }

  /* Cuando est√° abierto (toggle) */
  .personalization.active {
    display: block;
  }
  
/* ============================
    Zona 1: Controles generales (2 columnas)
    ============================ */
  .panel-controls {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 6px 10px;   /* row-gap / col-gap */
  }
  .panel-controls label {
    align-self: center;
    margin: 0;
    font-weight: 500;
  }
  .panel-controls input,
  .panel-controls select 
  .panel-controls .range-control {
    width: 100%;
    padding: 6px;
    font-size: 13px;
    border: 1px solid #ccc;
    border-radius: 4px;
    background: #f9f9f9;
  }
  .panel-controls .range-control {
    display: flex;
    align-items: center;
    gap: 10px;
    grid-column: 2;  /* slider occupies second column */
  }
  
/* ============================
    Zona 2: Selector de colores (3 columnas)
   ============================ */
  .panel-colors {
    margin-top: 12px;
    display: grid;
    gap: 8px;
  }
  
  .color-grid-header,
  .color-grid-row {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr; /* 3 columnas iguales */
    align-items: center; /* Alinea verticalmente al centro */
    text-align: center; /* Alinea horizontalmente el texto en el centro */
    gap: 6px; /* separaci√≥n entre columnas */
  }
  
  .color-grid-header div {
    font-weight: bold;
  }
  
  .color-grid-row label {
    text-align: center;
  }
  
  .color-grid-row input[type="color"] {
    width: 100%; /* Que el input ocupe toda la celda */
    height: 36px; /* Altura uniforme */
    border: none;
    background: none;
    cursor: pointer;
  }
  
/* ============================
    Zona 3: Botones de acci√≥n (grid de botones)
   ============================ */
  .panel-actions {
    margin-top: 12px;
    display: grid;
    grid-template-columns: repeat(2, 1fr); /* 2 botones por fila */
    gap: 8px;
  }
  
  .panel-actions button {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 10px;
    font-size: 14px;
    font-weight: 500;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: background-color 0.2s ease, transform 0.2s ease;
  }
  
  .panel-actions button i {
    margin-right: 6px; /* separaci√≥n entre √≠cono y texto */
  }
  
  .panel-actions .action-btn {
    background-color: var(--accent-color, #007bff);
    color: #fff;
  }
  
  .panel-actions .reset-img-btn {
    background-color: #dc3545; /* Rojo */
  }
  
  .panel-actions .reset-preferences-btn {
    background-color: #ffc107; /* Amarillo */
    color: #000;
  }
  
  .panel-actions .close-btn {
    background-color: #6c757d; /* Gris */
    color: #fff;
    grid-column: span 2; /* Que ocupe el ancho de las dos columnas */
    font-weight: bold;
    font-size: 15px;
  }
  
  /* Peque√±a animaci√≥n al pasar el mouse */
  .panel-actions button:hover {
    transform: scale(1.02);
  }  

/* ====== Resizer ====== */
.sidebar.resizable .resizer {
  width: var(--resizer-width);
  position: absolute;
  top: 0;
  bottom: 0;
  right: 0; 
  background: linear-gradient(to right, transparent 40%, rgba(0,0,0,0.1) 50%, transparent 60%);
  cursor: col-resize;
  z-index: 1001;
  transition: none !important;
  pointer-events: all;
}

.sidebar.resizable .resizer:hover {
  background-color: rgba(0, 0, 0, 0.1);
}


/* ====== ESTILOS DEL CONTENIDO ====== */
/* General reset y estructura base */
* {
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

html, body {
  height: 100%;
  padding: 0;
  overflow: hidden;   /* quita el scroll del body */
}

body {
  background-color: var(--main-background-color);
  color: var(--font-color);
  font-family: var(--font-family, var(--default-font-family, sans-serif));
  font-size: var(--font-size-base);
  line-height: var(--line-height);

  transition: background-color 0.3s ease, color 0.3s ease;
  display: flex;
  min-height: 100vh;
}

/* Estilos del contenido principal */
.main-content {
  display: flex;
  overflow-y: auto;
  flex: 1;
  height: auto;
  background-color: var(--main-background-color);
  gap: var(--space-lg); /* Espaciado entre secciones */
}

/* ====== T√≠tulos - Estilos generales ====== */
h1, h2, h3 {
  margin: 0;
  padding: var(--padding-vertical) var(--padding-horizontal);
  font-weight: inherit;
}

h1 {
  font-size: var(--font-size-lg);
}

h2 {
  font-size: var(--font-size-md);
}

h3 {
  font-size: var(--font-size-sm);
}

.nombre-titulo {
  text-align: center;
  width: 100%;
  margin-top: calc(var(--padding-vertical)/2 + var(--space-md));
  animation: fadeSlideUp 0.8s ease-out forwards;
  display: flex;
  justify-content: center;
  flex-direction: column;
  align-items: center;
  text-shadow: var(--text-shadow-name);
}

#nombre, #titulo {
  font-family: var(--font-family, 'Inter', sans-serif);
  margin: 0;
}

#nombre {
  font-size: var(--font-size-lg);
  font-weight: 700;
  text-align: center;
}

#titulo {
  font-size: var(--font-size-md);
  font-weight: 500;
  margin: calc(var(--padding-vertical)/2 + var(--space-md)) 0 0;
  color: var(--font-color);
  text-align: center;
}

/* ====== Temas Generales ====== */
.body[data-theme="dark"], .body[data-theme="dark"], .body[data-theme="custom"], .body[data-theme="sepia"], .body[data-theme="agustin"] {
  background-color: var(--main-background-color);
  color: var(--font-color);
  font-family: var(--font-family);
  font-size: var(--font-size-base);
  line-height: var(--line-height);
}

/* =======================================================*/
/* ====== Contenedor principal para Sidebar + Main ====== */
/* =======================================================*/
.cvContainer {
  display: flex;
  flex-wrap: nowrap;
  justify-content: flex-start;
  align-items: stretch;
  min-height: 100vh;
  max-width: 100%;
  margin: 0 auto;
  flex-direction: row;
  flex-grow: 1;
  overflow: hidden;
  gap: var(--sidebar-main-gap, 0.3rem); /* Espacio m√≠nimo de separaci√≥n */
}

/* ====== Sidebar ====== */
/* Aqu√≠ no se realizan cambios, ya que me pides no tocarlo por el momento. */
.cvContainer .sidebar {
  position: relative;
  width: 25%;
  min-width: var(--sidebar-min-width, 280px);
  max-width: var(--sidebar-max-width, 700px);
  /* border-right: var(--panel-border); */
  height: 100vh;
  background: var(--sidebar-background);
  overflow: hidden;
  color: var(--sidebar-font-color, var(--font-color));
}

/* Wrapper con scroll */
.cvContainer .sidebar-content {
  align-items: center;  /* Esto asegura que todos los elementos hijos est√©n centrados */
  width: 100%;
  height: 100%;
  overflow-y: auto;
}

.divider {
  display: block;
  width: 70%;
  border: none;
  border-top: 1px solid var(--sidebar-font-color);
  margin-top: 10px;   /* Espacio fijo arriba */
  margin-bottom: 10px; /* Espacio fijo abajo */
  z-index: 9999;
  margin-left: auto;
  margin-right: auto;
  background: transparent;
}

/* ====== Main ====== */
/* El grid de main no debe tocarse, por lo que solo ajustamos otros aspectos del main */
.cvContainer main {
  flex: 1;
  overflow-y: auto;
  border-left: var(--panel-border);
  background: var(--main-background-color);
  box-shadow: 0 var(--space-xs) 8px rgba(0, 0, 0, 0.1);
  padding: var(--padding-vertical) var(--padding-horizontal);
  box-sizing: border-box;
}

.cvContainer .sidebar-content,
.cvContainer main {
  padding: var(--panel-padding);
  border-radius: var(--panel-radius);
  box-sizing: border-box;
  min-height: 100vh;
}

/* ====== Scrollbars opcionales ====== */
.cvContainer .sidebar::-webkit-scrollbar,
.cvContainer main::-webkit-scrollbar {
  width: var(--scrollbar-width, 8px);
}

.cvContainer .sidebar::-webkit-scrollbar-thumb,
.cvContainer main::-webkit-scrollbar-thumb {
  background: rgba(0,0,0,0.2);
  border-radius: var(--space-xs);
}

/* ====== Contenido principal ====== */
main .content {
  display: flex;
  flex-direction: column;
  gap: var(--ui-gap-xs);
  padding: var(--padding-vertical) var(--padding-horizontal);
}

main .content h1,
main .content h2,
main .content h3 {
  margin-bottom: var(--space-xs);
}

main .content p {
  margin-bottom: var(--space-xs);
  line-height: 1.6;
}

main .content ul,
main .content ol {
  margin-left: var(--space-sm);
  padding-left: var(--space-sm);
}

main .content li {
  margin-bottom: var(--space-xs);
}

/* ====== Formatear Toggle-Content ====== */
.toggle-content {
  display: flex;
  flex-direction: column;
  padding: var(--padding-vertical) var(--space-md);
  background-color: rgba(255, 255, 255, 0.2);
  border-radius: var(--panel-radius);
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
  margin: var(--space-sm);
  transition: all 0.3s ease;

  /* ‚ú® A√±adir esto para evitar que el primer section-item quede pegado */
  padding-top: var(--padding-vertical);
}

.toggle-content:hover {
  background-color: rgba(255, 255, 255, 0.3);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

/* ====== Secci√≥n ====== */
.section {
  /* background-color: rgba(255, 255, 255, 0.1); */
  border-radius: var(--panel-radius);
  border: 2px solid rgba(0, 0, 0, 0.1);
  transition: background-color 0.3s ease;
  padding: var(--space-sm);
  margin-bottom: var(--padding-vertical);
}

.section-item {
  background-color: rgba(255, 255, 255, 0.15); /* Fondo diferente para resaltar */
  border: 2px solid rgba(0, 0, 0, 0.1); /* Borde m√°s marcado para diferenciar */
  padding: var(--padding-horizontal); /* Espaciado interior com√∫n */
  margin-top: var(--space-sm);
  margin-bottom: var(--space-sm); /* Espaciado inferior com√∫n */
  transition: background-color 0.3s ease; /* Suavizar transici√≥n */
  border-radius: var(--panel-radius); /* Bordes redondeados */
}

.section-item h3 {
  font-weight: 700;
}

.section-item:hover {
  background-color: rgba(255, 255, 255, 0.3); /* Fondo m√°s claro */
  transform: scale(1.01);                    /* Ligeramente m√°s grande */
  border-color: rgba(0, 0, 0, 0.2);          /* Borde m√°s marcado */
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); /* Sombra sutil */
  transition: all 0.3s ease;
  cursor: pointer;
}


/* ====== Uniformidad en los items del sidebar ====== */
.sidebar-section > div {
  display: flex;
  align-items: center;
  gap: var(--padding-horizontal);
  padding: var(--padding-vertical) calc(var(--padding-horizontal) / 2);
  transition: background-color 0.3s ease;
}

.sidebar-section > div:last-child {
  margin-bottom: 0;
}

.sidebar-section > div:hover {
  background-color: rgba(0, 0, 0, 0.08);
}

/* ====== Secciones del Sidebar ====== */
.contacto,
.habilidades,
.idiomas {
  width: 100%;
  gap: var(--padding-vertical);
}

/* ====== √çtems ====== */
.contacto-item,
.habilidad-item,
.idioma-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin: var(--space-sm) var(--space-xs);
}

.idioma-item {
  justify-content: flex-start;
}

/* Info dentro del item */
.contacto-info,
.habilidad-info,
.idioma-info {
  display: flex;
  align-items: center;
  gap: var(--padding-horizontal);
  flex-grow: 1;
}

/* Valor a la derecha */
.contacto-valor,
.habilidad-valor,
.idioma-valor {
  text-align: right;
  font-weight: 500;
  white-space: nowrap;
}

.contacto-item i,
.habilidad-icon,
.flag-icon {
  display: inline-flex;
  min-width: 1em;
  max-width: 3em;
  width: 2em;
  justify-content: center;
  align-items: center;
}


/* ====== Iconos ====== */
/* .contacto-info i,
.habilidad-info i,
.idioma-info i,
.contacto-info img,
.habilidad-info img,
.idioma-info img {
  display: inline-flex;
  justify-content: center;
  align-items: center;
  width: var(--icon-size, 32px);
  height: var(--icon-size, 32px);
  min-width: var(--icon-size, 32px);
  min-height: var(--icon-size, 32px);
  object-fit: contain;
  font-size: var(--font-size-md);
  text-shadow: var(--text-shadow-section-content-icon);
} */

/* .contacto-info img,
.habilidad-info img,
.idioma-info img {
  max-width: 100%;
  max-height: 100%;
} */

/* Contenedor del √≠cono */
.contacto-info i,
.habilidad-info i,
.idioma-info i {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 1lh; /* ocupa toda la l√≠nea */
  width: 1lh;  /* cuadrado */
  line-height: 1;
  flex-shrink: 0;
}

/* El √≠cono en s√≠ */
.contacto-info i::before,
.habilidad-info i::before,
.idioma-info i::before {
  font-size: 1lh; /* igual al alto de la l√≠nea */
  line-height: 1;
}



/* ====== Ajustes opcionales ====== */
.idioma-level {
  font-weight: 500;
  white-space: nowrap;
}

/* ====== Hover en items ====== */
.sidebar-section > div:hover {
  background-color: rgba(0, 0, 0, 0.08);
}

/* ====== Estilo general para las listas de habilidades y idiomas ====== */
.habilidad-valor,
.idioma-valor,
.items {
  font-family: 'Font Awesome 5 Free', sans-serif;
  display: flex;
  align-items: center;
  gap: var(--space-md);
  justify-content: flex-end;
}

.items .item {
  flex: 0 0 auto;
}

.item {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  line-height: 1;
  font-size: 1em;
  padding: var(--space-xs);
  /* text-shadow: var(--text-shadow-items); */
  /* border-color: var(--sidebar-font-color); */
  transition: border-color 0.3s ease; /* Para transiciones suaves al pasar el mouse */
  text-shadow: 0 0 3px black, 0 0 3px black; /* Sombra alrededor de la estrella */
  transition: text-shadow 0.3s ease; /* Para transici√≥n suave en hover */
}

.item.filled {
  color: gold;
}

.item.empty {
  color: var(--items-color);
}

.item:hover {
  border-color: var(--highlight-color, #FFD700); /* Cambiar borde en hover */
  text-shadow: 0 0 3px black, 0 0 3px #FFD700; /* Cambio a sombra dorada cuando se pasa el rat√≥n */
}
.item.filled:hover {
  color: #66bb6a;
}
.item.empty:hover {
  color: var(--items-color);
}

/* ====== Hobbies - Alineaci√≥n a la izquierda de icono y nombre de hobby ====== */
.hobbies {
  display: flex;
  flex-wrap: wrap;
  gap: var(--padding-horizontal);
  justify-content: space-evenly;
  margin-top: calc(var(--padding-vertical)/2 + var(--space-xs));
}

/* Habilidades - Tarjetas de hobby */
.hobbies-item {
  flex: 1 1 calc(var(--hobby-min-width) * var(--hobby-size-slider));
  /* min-width: calc(var(--hobby-min-width) * var(--hobby-size-slider)); */
  /* max-width: calc(var(--hobby-max-width) * var(--hobby-size-slider)); */
  height: calc(var(--hobby-min-height) * var(--hobby-size-slider));
  font-size: var(--hobby-font-size);
  border-radius: var(--panel-radius);
  background-color: var(--hobbies-card-background);
  box-sizing: border-box;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  text-shadow: var(--text-shadow-hobbies);
  transition: all 0.3s ease;
  border-bottom: 2px solid var(--section-title-border);
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); 
  border: 2px dashed var(--section-title-border); /* Dashed o dotted para un look m√°s divertido */
}

.hobbies-item i {
  padding: 0.5rem;
  font-size: calc(var(--hobby-icon-size) * var(--hobby-size-slider));
}

.hobby-name {
  font-size: var(--hobby-font-size);
  text-align: center;
  white-space: normal;
  overflow-wrap: break-word;
  hyphens: auto;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  line-height: 1.1;
}

.hobby-item i {
  font-size: calc(var(--hobby-icon-size) + var(--hobby-size-slider) * 0.5);
}

.hobby-item:hover {
  transform: scale(1.15);
  transition: transform 0.3s ease, border-color 0.3s ease;
  border-color: var(--highlight-color, #007bff); /* Puedes definir --highlight-color en :root */
}

.hobby-icon {
  font-size: calc(var(--hobby-icon-size) + var(--hobby-size-slider) * 0.5);
  margin-top: var(--padding-vertical);
  margin-bottom: var(--padding-vertical);
  line-height: 1;
}

.hobby-name {
  font-size: var(--hobby-font-size);
  text-align: center;
  white-space: normal;
  overflow-wrap: break-word;
  hyphens: auto;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  line-height: 1.1;
}

/* ====== Hover en temas ====== */
.habilidad:hover,
.idioma:hover,
.hobby-item:hover,
.contacto-item:hover {
  background-color: rgba(0, 0, 0, 0.08);
}

/* ================================================================*/
/* ====== Main - Grid para Educaci√≥n, Experiencia y Logros  ====== */
/* ================================================================*/

body[data-format="grid"] {
  display: grid;
  grid-template-columns: 2fr 2fr 1fr 3fr;
  gap: var(--padding-horizontal);
  align-items: start;
  margin-bottom: var(--padding-vertical);
}

body[data-format="list"] {
  display: block;
  margin-bottom: var(--space-md);
}

.grid-header,
body[data-format="list"] .entry-header,
body[data-format="list"] .entry-subtitle {
  font-weight: bold;
  background-color: var(--section-title-bg-color);
  border-bottom: 2px solid var(--section-title-border);
  padding: var(--padding-horizontal);
}

.grid-item,
body[data-format="list"] .entry {
  padding: var(--padding-horizontal);
  border-bottom: 1px solid #ccc;
}

.grid-item button.toggle-button,
body[data-format="list"] button.toggle-button {
  margin-top: calc(var(--padding-vertical)/2 + var(--space-xs));
  font-size: 0.875em;
}

body[data-format="list"] .entry-subtitle {
  font-style: italic;
}

.grid-header,
.grid-item,
body[data-format="list"] .entry,
body[data-format="list"] .entry-header {
  padding: var(--padding-horizontal);
  border-bottom: 1px solid #ccc;
}

/* ============================ */
/* ====== Foto de perfil ====== */
/* ============================ */
#foto-container {
  position: relative;
  text-align: center;
  width: var(--foto-size); /* Usamos la variable para el tama√±o */
  aspect-ratio: var(--foto-aspect, 1/1); /* Este controla la forma */
  overflow: hidden;
  cursor: grab;
  background-color: #f0f0f0;
  border-radius: var(--foto-radius); /* Usamos la variable para el radio */
  border: 8px solid var(--section-background, #ccc);
  margin: 0 auto;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 150px;
}

/* Arranque: img oculto, placeholder visible */
#foto {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center center;
  display: none; /* Inicialmente oculta */
}

#foto.visible {
  display: block; /* Solo visible cuando se le agrega la clase */
}

#foto-placeholder {
  width: 80px; /* A chequear */
  height: 80px;  /* A chequear */
  background-color: var(--background-color, #bbb);
  color: #fff; 
  font-size: 15px;  /* A chequear */
  font-weight: bold;
  display: flex;               /* ‚Üê por defecto FLEX para centrar el texto */
  justify-content: center;
  align-items: center;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  border-radius: 50%;
  border: var(--space-xs) solid var(--section-title-bg-color, white);
  z-index: 1;
}

/* ============================================ */
/* === Toggle Buttons y Secciones Plegables === */
/* ============================================ */
.toggle-button {
  background-color: transparent;
  border: none;
  color: #d4af37;
  font-weight: bold;
  cursor: pointer;
  margin-top: calc(var(--padding-vertical)/2 + var(--space-xs));/* para margen superior */
  padding: var(--space-xs); 
  text-align: left;
  font-size: calc(var(--font-size-base));
  transition: color 0.3s;
}

.toggle-button:hover {
  text-decoration: underline;
  color: #b8962e;
}

.toggle-title {
  cursor: pointer;
  display: flex;
  align-items: center;
  margin: 0.1em; /* para margenes */
  min-height: 2em; /* opcional para evitar desbordes */
  padding: var(--padding-vertical) var(--padding-horizontal); /* para el espacio dentro del t√≠tulo */
  /* border-left: var(--space-xs) solid var(--section-title-border); */
  border-radius: var(--space-sm);

  font-size: calc(var(--font-size-base) * 1.25); /* Escalable */
  font-weight: 600; 

  background-color: var(--section-title-bg-rgba);

  transition: background-color 0.3s;
}

.toggle-title:hover {
  background-color: var(--section-title-hover-bg);
}

/* Iconos de los titulos de las secciones */
.toggle-title i {
  align-items: center;
  margin-right: 0.3em;
  min-width: 1em;           /* asegura espacio sin desbordes */

  font-family: "Font Awesome 5 Free"; /* Asegura que tome la fuente */
  font-style: normal;
  font-weight: 900;         /* Necesario para algunos √≠conos s√≥lidos */
  font-size: 1.5em;         /* escala con el texto */

  color: var(--section-title-icon);
  text-shadow: var(--text-shadow-section-title-icon);
}

.collapsible {
  display: none;
  margin-top: 0.5em;
}

.collapsible.show {
  display: block;
}

/* ========================== */
/* === Estilos Timeline ==== */
/* ========================== */

/* Variables espec√≠ficas del timeline */
:root {
  --timeline-date-width: 10em;    /* ancho fijo de la columna fecha */
  --timeline-icon-size: 3em;      /* ancho fijo del icon-wrapper */
  --timeline-line-left: calc(var(--timeline-date-width) + calc(var(--timeline-icon-size) / 2)); /* L√≠nea ajustada */
  /* --button-bg-rgb: 34, 34, 34;    RGB del color de fondo del bot√≥n (personalizado) */
  --font-color: #333;             /* Color de fuente */
  --timeline-color: var(--accent-color-rgb);
  --section-title-bg-color: #fff; /* Color de fondo de los t√≠tulos de secci√≥n */
  --hover-background-color: rgba(255, 255, 255, 0.2); /* Fondo al hacer hover */
  --hover-font-size: 1.2em; /* Tama√±o de fuente aumentado al hacer hover */
}

/* 1) Grid de 3 columnas: fecha | icono | contenido */
.timeline {
  display: grid;
  grid-template-columns: var(--timeline-date-width) var(--timeline-icon-size) 1fr;
  gap: 2em;
  position: relative;   /* para que ::before quede dentro */
  padding-left: 1.25em;
  padding-right: 2.5em;
  margin-top: 1em;    /* Aumenta este valor seg√∫n necesidad */
  margin-bottom: 1em; /* Aumenta este valor seg√∫n necesidad */
  z-index: 1;
  align-items: center;  /* Centra verticalmente el contenido */
}

/* L√≠nea vertical continua */
.timeline::before {
  content: '';
  position: absolute;
  top: 0;
  bottom: 0;
  left: var(--timeline-line-left);
  width: 3px;
  background-color: rgba(var(--timeline-color), 0.4);
  z-index: 0;
}

/* 2) Reglas de las tres columnas */
.timeline .date {
  grid-column: 1;
  text-align: right;
  padding-right: 1em;
  font-weight: bold;
  flex-shrink: 0;
  transition: font-size 0.3s ease; /* Transici√≥n para cambiar tama√±o de fuente */
}

.timeline .icon-wrapper {
  grid-column: 2;
  display: flex;
  align-items: center;
  justify-content: center;
  width: var(--timeline-icon-size);
  height: var(--timeline-icon-size);
  background: white;
  border-radius: 50%;
  box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.1);
  position: relative;
  z-index: 2;
}

.timeline .content {
  grid-column: 3;
}

/* 3) Animaci√≥n de aparici√≥n */
.timeline .event {
  display: contents;      /* para ‚Äúromper‚Äù el grid y colocar hijos directamente */
  position: relative;
  z-index: 1;
  opacity: 0;
  transform: translateY(1em);
  transition: opacity 0.6s ease, transform 0.6s ease;
  gap: 2em;
  margin-bottom: 1em;
  transition: all 0.3s ease;
}

.timeline .event.visible {
  opacity: 1;
  transform: translateY(0);
}

/* ========================== */
/* === Efectos Hover en .event === */
/* ========================== */

/* Efecto Hover en toda la fila (evento) */
.timeline .event:hover {
  background-color: var(--hover-background-color);  /* Resaltar la fila al hacer hover */
  box-shadow: 0 0 1em rgba(255, 255, 255, 0.1);     /* Suave resplandor */
  transform: scale(1.1);                            /* Leve ampliaci√≥n */
  transition: all 0.3s ease;
}

/* Efecto Hover sobre el icono */
.timeline .event .icon-wrapper:hover {
  box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.15), 0 0 1em rgba(0, 0, 0, 0.1); /* A√±adir sombra m√°s pronunciada */
  transform: scale(1.15);                             /* Aumento de tama√±o */
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  background-color: rgba(var(--timeline-color), 0.9);
}

/* Ampliar la letra al hacer hover */
.timeline .event:hover .date,
.timeline .event:hover .content {
  font-size: var(--hover-font-size);    /* Aumentar el tama√±o de fuente */
  color: rgba(var(--timeline-color), 0.7);
}

/* Estilo para los t√≠tulos y subt√≠tulos del contenido */
.timeline .event .content .title {
  margin: 0;
  font-size: 1em;
  font-weight: bold;
}

.timeline .event .content .subtitle {
  margin: 0;
  font-size: 0.8em;
  color: var(--font-color);
}


/* Debug */
/* #cvContainer {
  border: 5px solid red;
}
.sidebar {
  border: 5px solid blue;
}
.main {
  border: 10px solid green;
} */

/* ======================== */
/* ====== Responsive ====== */
/* ======================== */
@media (max-width: 768px) {
  :root {
    /* Espaciados en m√≥viles basados en el padding-horizontal actual */
    --space-2xs: calc(var(--padding-horizontal) * 0.25);
    --space-xs:  calc(var(--padding-horizontal) * 0.5);
    --space-sm:  calc(var(--padding-horizontal) * 0.75);
    --space-md:  calc(var(--padding-horizontal) * 1);
    --space-lg:  calc(var(--padding-horizontal) * 1.5);
    --space-xl:  calc(var(--padding-horizontal) * 2);
    --space-2xl: calc(var(--padding-horizontal) * 3);
  }
  .cvContainer {
    flex-direction: column; /* En pantallas peque√±as, poner los elementos en columna */
  }

  .cvContainer .sidebar,
  .cvContainer main {
    max-width: 100%; /* Asegura que ambos elementos ocupen todo el ancho disponible */
    width: 100%;
    height: auto;
  }

  .cvContainer main {
    box-shadow: none; /* Quitar la sombra en pantallas peque√±as */
    flex: 1;
  }
}

@media (prefers-reduced-motion: reduce) {
  * {
    animation: none !important;
    transition: none !important;
  }
}

/* Permite escalar todo el texto */
.responsive-text {
  font-size: calc(var(--font-size-base) * 1.1);
}

/* ====================================================================== */
/* ===================== CONFIGURACI√ìN DE IMPRESI√ìN ===================== */
/* ====================================================================== */
@page {
  size: A4 portrait;
  margin: 1mm 1mm 1mm 1mm; /* top, right, bottom, left */
}

@media print {
  html, body {
    padding: 0;
    width: 210mm;
    /* height: 297mm; */
    height: auto;      /* ‚úÖ Dej√° que crezca si hace falta */
    overflow: visible; /* ‚úÖ Mostr√° contenido adicional */
  }

  /* Opcional: escalar todo con rems */
  html { font-size: 80%; } /* escala para impresi√≥n  */

  #cvContainer {
    display: flex !important;
    flex-direction: row;
    width: calc(210mm - 1mm - 1mm); /* total - m√°rgenes izquierdo y derecho */
    /* height: calc(297mm - 1mm - 1mm); */
    /* margin: 0; /* ya lo tiene el body */

    transform: none !important;
    transform-origin: top left;
    box-sizing: border-box;

      /* Dej√° que la altura se defina autom√°ticamente */
    /* height: 100%; /* igual que el body */
    /* max-height: calc(297mm - 0.1mm); /* margen m√≠nimo de seguridad */
    /* overflow: hidden;
  }

  .sidebar, .main {
    height: 100%; /* ocupa el alto del contenedor */
    overflow: visible; /* evita scroll en impresi√≥n */
    page-break-inside: avoid;
  }

  /* Sidebar: fuerza 63 mm exactos */
  .sidebar {
    flex: none !important;
    width: 75mm !important;
    min-width: 63mm !important;
    max-width: 80mm !important;
    padding: 1px !important; /* m√°s peque√±o para impresi√≥n */
    margin: 0px;
    border-radius: 5px;
    height: auto;

    /* font-size: 10pt; */
  }

  .main {
    width: calc(197mm - 75mm) !important; /* 197 = 210 - 10 - 3 */
    padding: 6mm !important;
    /* font-size: 11pt; */
    /* flex: none !important; */
  }

  .item {
    /* font-size: 9pt; */
    /* Si las estrellas son √≠conos <i>, puedes apuntar a ellas directamente */
    /* .star i { font-size: 9pt; } */
  }

  .hobby {
    flex: 1 1 calc(var(--hobby-min-width) * var(--hobby-size-slider)); /* puede crecer hasta ocupar el espacio */
    max-width: calc(var(--hobby-max-width) * var(--hobby-size-slider)); /* pero no m√°s que esto */
    min-width: calc(var(--hobby-min-width) * var(--hobby-size-slider));
    box-sizing: border-box;
    width: 100%;
    padding: calc(var(--space-sm) * var(--hobby-size-slider));
    height: auto;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }
  
  .hobby-icon {
    font-size: 2em;
    margin-top: var(--space-xs);    /* A√±ade espacio arriba */
    margin-bottom: var(--space-xs); /* Ya ten√≠as este */
    /* text-shadow: var(--text-shadow-hobbies); */
  }

  #timelineToggle,
  #timelineToggle .toggle-content {
    display: block !important;
    visibility: visible !important;
    max-height: none !important;
    opacity: 1 !important;
  }

  /* Oculta botones y resizer */
  button, .toggle-button, .resizer {
    display: none !important;
  }

  /* Oculta scrollbars en impresi√≥n */
  .sidebar::-webkit-scrollbar,
  .main   ::-webkit-scrollbar {
    display: none;
  }

  /* Quita UI que no quieres imprimir */
  header, footer, nav, .resizer,
  #languageSwitcher,
  .personalize-btn,
  #personalization-panel,
  button {
    display: none !important;
  }

  /* Evita cortes de secci√≥n */
  .section { page-break-inside: avoid; }
  .timeline { page-break-before: always; }
}